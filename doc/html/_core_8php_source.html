<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Nina:  Fichier source de /home/damien/www/nina/lib/Twig/Extension/Core.php</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Nina
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Généré par Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Recherche');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Page&#160;principale</span></a></li>
      <li><a href="namespaces.html"><span>Espaces&#160;de&#160;nommage</span></a></li>
      <li><a href="annotated.html"><span>Structures&#160;de&#160;données</span></a></li>
      <li class="current"><a href="files.html"><span>Fichiers</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Recherche" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Liste&#160;des&#160;fichiers</span></a></li>
      <li><a href="globals.html"><span>Variables&#160;globale</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_core_8php.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">/home/damien/www/nina/lib/Twig/Extension/Core.php</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_core_8php.html">Aller à la documentation de ce fichier.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <span class="keywordflow">if</span> (!defined(<span class="stringliteral">&#39;ENT_SUBSTITUTE&#39;</span>)) {
<a name="l00004"></a>00004     define(<span class="stringliteral">&#39;ENT_SUBSTITUTE&#39;</span>, 8);
<a name="l00005"></a>00005 }
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="comment">/*</span>
<a name="l00008"></a>00008 <span class="comment"> * This file is part of Twig.</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * (c) 2009 Fabien Potencier</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> * For the full copyright and license information, please view the LICENSE</span>
<a name="l00013"></a>00013 <span class="comment"> * file that was distributed with this source code.</span>
<a name="l00014"></a>00014 <span class="comment"> */</span>
<a name="l00015"></a><a class="code" href="class_twig___extension___core.html">00015</a> <span class="keyword">class </span><a class="code" href="class_twig___extension___core.html">Twig_Extension_Core</a> <span class="keyword">extends</span> <a class="code" href="class_twig___extension.html">Twig_Extension</a>
<a name="l00016"></a>00016 {
<a name="l00017"></a><a class="code" href="class_twig___extension___core.html#a2fc93ea5327f655d3ed306e221ee33f0">00017</a>     <span class="keyword">protected</span> <a class="code" href="class_twig___extension___core.html#a2fc93ea5327f655d3ed306e221ee33f0">$dateFormats</a> = array(<span class="stringliteral">&#39;F j, Y H:i&#39;</span>, <span class="stringliteral">&#39;%d days&#39;</span>);
<a name="l00018"></a><a class="code" href="class_twig___extension___core.html#a352ef5f1b2f5974072bd8037e20446c9">00018</a>     <span class="keyword">protected</span> <a class="code" href="class_twig___extension___core.html#a352ef5f1b2f5974072bd8037e20446c9">$numberFormat</a> = array(0, <span class="charliteral">&#39;.&#39;</span>, <span class="charliteral">&#39;,&#39;</span>);
<a name="l00019"></a><a class="code" href="class_twig___extension___core.html#af1cceca0f6633f202e2e3eccb72912af">00019</a>     <span class="keyword">protected</span> <a class="code" href="class_twig___extension___core.html#af1cceca0f6633f202e2e3eccb72912af">$timezone</a> = null;
<a name="l00020"></a>00020 
<a name="l00027"></a><a class="code" href="class_twig___extension___core.html#a918c0c32f566071adc9b5258a2ab6fca">00027</a>     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#a918c0c32f566071adc9b5258a2ab6fca">setDateFormat</a>($format = null, $dateIntervalFormat = null)
<a name="l00028"></a>00028     {
<a name="l00029"></a>00029         <span class="keywordflow">if</span> (null !== $format) {
<a name="l00030"></a>00030             $this-&gt;dateFormats[0] = $format;
<a name="l00031"></a>00031         }
<a name="l00032"></a>00032 
<a name="l00033"></a>00033         <span class="keywordflow">if</span> (null !== $dateIntervalFormat) {
<a name="l00034"></a>00034             $this-&gt;dateFormats[1] = $dateIntervalFormat;
<a name="l00035"></a>00035         }
<a name="l00036"></a>00036     }
<a name="l00037"></a>00037 
<a name="l00043"></a><a class="code" href="class_twig___extension___core.html#ac8d28832fbeea9d3a9e4e591c9af4c93">00043</a>     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#ac8d28832fbeea9d3a9e4e591c9af4c93">getDateFormat</a>()
<a name="l00044"></a>00044     {
<a name="l00045"></a>00045         <span class="keywordflow">return</span> $this-&gt;dateFormats;
<a name="l00046"></a>00046     }
<a name="l00047"></a>00047 
<a name="l00053"></a><a class="code" href="class_twig___extension___core.html#ac1b4cf4ebad277081311189dffb821f2">00053</a>     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#ac1b4cf4ebad277081311189dffb821f2">setTimezone</a>(<a class="code" href="class_twig___extension___core.html#af1cceca0f6633f202e2e3eccb72912af">$timezone</a>)
<a name="l00054"></a>00054     {
<a name="l00055"></a>00055         $this-&gt;timezone = <a class="code" href="class_twig___extension___core.html#af1cceca0f6633f202e2e3eccb72912af">$timezone</a> instanceof DateTimeZone ? <a class="code" href="class_twig___extension___core.html#af1cceca0f6633f202e2e3eccb72912af">$timezone</a> : <span class="keyword">new</span> DateTimeZone(<a class="code" href="class_twig___extension___core.html#af1cceca0f6633f202e2e3eccb72912af">$timezone</a>);
<a name="l00056"></a>00056     }
<a name="l00057"></a>00057 
<a name="l00063"></a><a class="code" href="class_twig___extension___core.html#a23e87a365ef1aea5bc5fdad51d8925ae">00063</a>     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#a23e87a365ef1aea5bc5fdad51d8925ae">getTimezone</a>()
<a name="l00064"></a>00064     {
<a name="l00065"></a>00065         <span class="keywordflow">return</span> $this-&gt;timezone;
<a name="l00066"></a>00066     }
<a name="l00067"></a>00067 
<a name="l00075"></a><a class="code" href="class_twig___extension___core.html#a10cf675b0b6476d7a25fbcaa40206fa0">00075</a>     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#a10cf675b0b6476d7a25fbcaa40206fa0">setNumberFormat</a>($decimal, $decimalPoint, $thousandSep)
<a name="l00076"></a>00076     {
<a name="l00077"></a>00077         $this-&gt;numberFormat = array($decimal, $decimalPoint, $thousandSep);
<a name="l00078"></a>00078     }
<a name="l00079"></a>00079 
<a name="l00085"></a><a class="code" href="class_twig___extension___core.html#a7ac6ceb09817aef826280cdbad8bb3a8">00085</a>     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#a7ac6ceb09817aef826280cdbad8bb3a8">getNumberFormat</a>()
<a name="l00086"></a>00086     {
<a name="l00087"></a>00087         <span class="keywordflow">return</span> $this-&gt;numberFormat;
<a name="l00088"></a>00088     }
<a name="l00089"></a>00089 
<a name="l00095"></a><a class="code" href="class_twig___extension___core.html#a8fd35903c3d01c0f0078f59d142eb063">00095</a>     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#a8fd35903c3d01c0f0078f59d142eb063">getTokenParsers</a>()
<a name="l00096"></a>00096     {
<a name="l00097"></a>00097         <span class="keywordflow">return</span> array(
<a name="l00098"></a>00098             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___for.html">Twig_TokenParser_For</a>(),
<a name="l00099"></a>00099             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___if.html">Twig_TokenParser_If</a>(),
<a name="l00100"></a>00100             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___extends.html">Twig_TokenParser_Extends</a>(),
<a name="l00101"></a>00101             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___include.html">Twig_TokenParser_Include</a>(),
<a name="l00102"></a>00102             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___block.html">Twig_TokenParser_Block</a>(),
<a name="l00103"></a>00103             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___use.html">Twig_TokenParser_Use</a>(),
<a name="l00104"></a>00104             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___filter.html">Twig_TokenParser_Filter</a>(),
<a name="l00105"></a>00105             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___macro.html">Twig_TokenParser_Macro</a>(),
<a name="l00106"></a>00106             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___import.html">Twig_TokenParser_Import</a>(),
<a name="l00107"></a>00107             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___from.html">Twig_TokenParser_From</a>(),
<a name="l00108"></a>00108             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___set.html">Twig_TokenParser_Set</a>(),
<a name="l00109"></a>00109             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___spaceless.html">Twig_TokenParser_Spaceless</a>(),
<a name="l00110"></a>00110             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___flush.html">Twig_TokenParser_Flush</a>(),
<a name="l00111"></a>00111             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___do.html">Twig_TokenParser_Do</a>(),
<a name="l00112"></a>00112             <span class="keyword">new</span> <a class="code" href="class_twig___token_parser___embed.html">Twig_TokenParser_Embed</a>(),
<a name="l00113"></a>00113         );
<a name="l00114"></a>00114     }
<a name="l00115"></a>00115 
<a name="l00121"></a><a class="code" href="class_twig___extension___core.html#a428d91319fc73d3038784cf5436936b6">00121</a>     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#a428d91319fc73d3038784cf5436936b6">getFilters</a>()
<a name="l00122"></a>00122     {
<a name="l00123"></a>00123         $filters = array(
<a name="l00124"></a>00124             <span class="comment">// formatting filters</span>
<a name="l00125"></a>00125             <span class="stringliteral">&#39;date&#39;</span>          =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_date_format_filter&#39;</span>, array(<span class="stringliteral">&#39;needs_environment&#39;</span> =&gt; <span class="keyword">true</span>)),
<a name="l00126"></a>00126             <span class="stringliteral">&#39;format&#39;</span>        =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;sprintf&#39;</span>),
<a name="l00127"></a>00127             <span class="stringliteral">&#39;replace&#39;</span>       =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;strtr&#39;</span>),
<a name="l00128"></a>00128             <span class="stringliteral">&#39;number_format&#39;</span> =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_number_format_filter&#39;</span>, array(<span class="stringliteral">&#39;needs_environment&#39;</span> =&gt; <span class="keyword">true</span>)),
<a name="l00129"></a>00129 
<a name="l00130"></a>00130             <span class="comment">// encoding</span>
<a name="l00131"></a>00131             <span class="stringliteral">&#39;url_encode&#39;</span>       =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_urlencode_filter&#39;</span>),
<a name="l00132"></a>00132             <span class="stringliteral">&#39;json_encode&#39;</span>      =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_jsonencode_filter&#39;</span>),
<a name="l00133"></a>00133             <span class="stringliteral">&#39;convert_encoding&#39;</span> =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_convert_encoding&#39;</span>),
<a name="l00134"></a>00134 
<a name="l00135"></a>00135             <span class="comment">// string filters</span>
<a name="l00136"></a>00136             <span class="stringliteral">&#39;title&#39;</span>      =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_title_string_filter&#39;</span>, array(<span class="stringliteral">&#39;needs_environment&#39;</span> =&gt; <span class="keyword">true</span>)),
<a name="l00137"></a>00137             <span class="stringliteral">&#39;capitalize&#39;</span> =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_capitalize_string_filter&#39;</span>, array(<span class="stringliteral">&#39;needs_environment&#39;</span> =&gt; <span class="keyword">true</span>)),
<a name="l00138"></a>00138             <span class="stringliteral">&#39;upper&#39;</span>      =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;strtoupper&#39;</span>),
<a name="l00139"></a>00139             <span class="stringliteral">&#39;lower&#39;</span>      =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;strtolower&#39;</span>),
<a name="l00140"></a>00140             <span class="stringliteral">&#39;striptags&#39;</span>  =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;strip_tags&#39;</span>),
<a name="l00141"></a>00141             <span class="stringliteral">&#39;trim&#39;</span>       =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;trim&#39;</span>),
<a name="l00142"></a>00142             <span class="stringliteral">&#39;nl2br&#39;</span>      =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;nl2br&#39;</span>, array(<span class="stringliteral">&#39;pre_escape&#39;</span> =&gt; <span class="stringliteral">&#39;html&#39;</span>, <span class="stringliteral">&#39;is_safe&#39;</span> =&gt; array(<span class="stringliteral">&#39;html&#39;</span>))),
<a name="l00143"></a>00143 
<a name="l00144"></a>00144             <span class="comment">// array helpers</span>
<a name="l00145"></a>00145             <span class="stringliteral">&#39;join&#39;</span>    =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_join_filter&#39;</span>),
<a name="l00146"></a>00146             <span class="stringliteral">&#39;sort&#39;</span>    =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_sort_filter&#39;</span>),
<a name="l00147"></a>00147             <span class="stringliteral">&#39;merge&#39;</span>   =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_array_merge&#39;</span>),
<a name="l00148"></a>00148 
<a name="l00149"></a>00149             <span class="comment">// string/array filters</span>
<a name="l00150"></a>00150             <span class="stringliteral">&#39;reverse&#39;</span> =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_reverse_filter&#39;</span>, array(<span class="stringliteral">&#39;needs_environment&#39;</span> =&gt; <span class="keyword">true</span>)),
<a name="l00151"></a>00151             <span class="stringliteral">&#39;length&#39;</span>  =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_length_filter&#39;</span>, array(<span class="stringliteral">&#39;needs_environment&#39;</span> =&gt; <span class="keyword">true</span>)),
<a name="l00152"></a>00152             <span class="stringliteral">&#39;slice&#39;</span>   =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_slice&#39;</span>, array(<span class="stringliteral">&#39;needs_environment&#39;</span> =&gt; <span class="keyword">true</span>)),
<a name="l00153"></a>00153 
<a name="l00154"></a>00154             <span class="comment">// iteration and runtime</span>
<a name="l00155"></a>00155             <span class="stringliteral">&#39;default&#39;</span> =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___node.html">Twig_Filter_Node</a>(<span class="stringliteral">&#39;Twig_Node_Expression_Filter_Default&#39;</span>),
<a name="l00156"></a>00156             <span class="stringliteral">&#39;_default&#39;</span> =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;_twig_default_filter&#39;</span>),
<a name="l00157"></a>00157 
<a name="l00158"></a>00158             <span class="stringliteral">&#39;keys&#39;</span>    =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_get_array_keys_filter&#39;</span>),
<a name="l00159"></a>00159 
<a name="l00160"></a>00160             <span class="comment">// escaping</span>
<a name="l00161"></a>00161             <span class="stringliteral">&#39;escape&#39;</span> =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_escape_filter&#39;</span>, array(<span class="stringliteral">&#39;needs_environment&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;is_safe_callback&#39;</span> =&gt; <span class="stringliteral">&#39;twig_escape_filter_is_safe&#39;</span>)),
<a name="l00162"></a>00162             <span class="charliteral">&#39;e&#39;</span>      =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_escape_filter&#39;</span>, array(<span class="stringliteral">&#39;needs_environment&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;is_safe_callback&#39;</span> =&gt; <span class="stringliteral">&#39;twig_escape_filter_is_safe&#39;</span>)),
<a name="l00163"></a>00163         );
<a name="l00164"></a>00164 
<a name="l00165"></a>00165         <span class="keywordflow">if</span> (function_exists(<span class="stringliteral">&#39;mb_get_info&#39;</span>)) {
<a name="l00166"></a>00166             $filters[<span class="stringliteral">&#39;upper&#39;</span>] = <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_upper_filter&#39;</span>, array(<span class="stringliteral">&#39;needs_environment&#39;</span> =&gt; <span class="keyword">true</span>));
<a name="l00167"></a>00167             $filters[<span class="stringliteral">&#39;lower&#39;</span>] = <span class="keyword">new</span> <a class="code" href="class_twig___filter___function.html">Twig_Filter_Function</a>(<span class="stringliteral">&#39;twig_lower_filter&#39;</span>, array(<span class="stringliteral">&#39;needs_environment&#39;</span> =&gt; <span class="keyword">true</span>));
<a name="l00168"></a>00168         }
<a name="l00169"></a>00169 
<a name="l00170"></a>00170         <span class="keywordflow">return</span> $filters;
<a name="l00171"></a>00171     }
<a name="l00172"></a>00172 
<a name="l00178"></a><a class="code" href="class_twig___extension___core.html#a131c2522f07821f77cd1d038c216031b">00178</a>     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#a131c2522f07821f77cd1d038c216031b">getFunctions</a>()
<a name="l00179"></a>00179     {
<a name="l00180"></a>00180         <span class="keywordflow">return</span> array(
<a name="l00181"></a>00181             <span class="stringliteral">&#39;range&#39;</span>    =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___function___function.html">Twig_Function_Function</a>(<span class="stringliteral">&#39;range&#39;</span>),
<a name="l00182"></a>00182             <span class="stringliteral">&#39;constant&#39;</span> =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___function___function.html">Twig_Function_Function</a>(<span class="stringliteral">&#39;constant&#39;</span>),
<a name="l00183"></a>00183             <span class="stringliteral">&#39;cycle&#39;</span>    =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___function___function.html">Twig_Function_Function</a>(<span class="stringliteral">&#39;twig_cycle&#39;</span>),
<a name="l00184"></a>00184             <span class="stringliteral">&#39;random&#39;</span>   =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___function___function.html">Twig_Function_Function</a>(<span class="stringliteral">&#39;twig_random&#39;</span>, array(<span class="stringliteral">&#39;needs_environment&#39;</span> =&gt; <span class="keyword">true</span>)),
<a name="l00185"></a>00185             <span class="stringliteral">&#39;date&#39;</span>     =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___function___function.html">Twig_Function_Function</a>(<span class="stringliteral">&#39;twig_date_converter&#39;</span>, array(<span class="stringliteral">&#39;needs_environment&#39;</span> =&gt; <span class="keyword">true</span>)),
<a name="l00186"></a>00186         );
<a name="l00187"></a>00187     }
<a name="l00188"></a>00188 
<a name="l00194"></a><a class="code" href="class_twig___extension___core.html#a7e247dd31cc8d37a6c97353a062a0080">00194</a>     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#a7e247dd31cc8d37a6c97353a062a0080">getTests</a>()
<a name="l00195"></a>00195     {
<a name="l00196"></a>00196         <span class="keywordflow">return</span> array(
<a name="l00197"></a>00197             <span class="stringliteral">&#39;even&#39;</span>        =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___test___node.html">Twig_Test_Node</a>(<span class="stringliteral">&#39;Twig_Node_Expression_Test_Even&#39;</span>),
<a name="l00198"></a>00198             <span class="stringliteral">&#39;odd&#39;</span>         =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___test___node.html">Twig_Test_Node</a>(<span class="stringliteral">&#39;Twig_Node_Expression_Test_Odd&#39;</span>),
<a name="l00199"></a>00199             <span class="stringliteral">&#39;defined&#39;</span>     =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___test___node.html">Twig_Test_Node</a>(<span class="stringliteral">&#39;Twig_Node_Expression_Test_Defined&#39;</span>),
<a name="l00200"></a>00200             <span class="stringliteral">&#39;sameas&#39;</span>      =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___test___node.html">Twig_Test_Node</a>(<span class="stringliteral">&#39;Twig_Node_Expression_Test_Sameas&#39;</span>),
<a name="l00201"></a>00201             <span class="stringliteral">&#39;none&#39;</span>        =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___test___node.html">Twig_Test_Node</a>(<span class="stringliteral">&#39;Twig_Node_Expression_Test_Null&#39;</span>),
<a name="l00202"></a>00202             <span class="stringliteral">&#39;null&#39;</span>        =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___test___node.html">Twig_Test_Node</a>(<span class="stringliteral">&#39;Twig_Node_Expression_Test_Null&#39;</span>),
<a name="l00203"></a>00203             <span class="stringliteral">&#39;divisibleby&#39;</span> =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___test___node.html">Twig_Test_Node</a>(<span class="stringliteral">&#39;Twig_Node_Expression_Test_Divisibleby&#39;</span>),
<a name="l00204"></a>00204             <span class="stringliteral">&#39;constant&#39;</span>    =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___test___node.html">Twig_Test_Node</a>(<span class="stringliteral">&#39;Twig_Node_Expression_Test_Constant&#39;</span>),
<a name="l00205"></a>00205             <span class="stringliteral">&#39;empty&#39;</span>       =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___test___function.html">Twig_Test_Function</a>(<span class="stringliteral">&#39;twig_test_empty&#39;</span>),
<a name="l00206"></a>00206             <span class="stringliteral">&#39;iterable&#39;</span>    =&gt; <span class="keyword">new</span> <a class="code" href="class_twig___test___function.html">Twig_Test_Function</a>(<span class="stringliteral">&#39;twig_test_iterable&#39;</span>),
<a name="l00207"></a>00207         );
<a name="l00208"></a>00208     }
<a name="l00209"></a>00209 
<a name="l00215"></a><a class="code" href="class_twig___extension___core.html#aeaf58da661970280d00b67c17dc4f8d4">00215</a>     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#aeaf58da661970280d00b67c17dc4f8d4">getOperators</a>()
<a name="l00216"></a>00216     {
<a name="l00217"></a>00217         <span class="keywordflow">return</span> array(
<a name="l00218"></a>00218             array(
<a name="l00219"></a>00219                 <span class="stringliteral">&#39;not&#39;</span> =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 50, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Unary_Not&#39;</span>),
<a name="l00220"></a>00220                 <span class="charliteral">&#39;-&#39;</span>   =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 500, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Unary_Neg&#39;</span>),
<a name="l00221"></a>00221                 <span class="charliteral">&#39;+&#39;</span>   =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 500, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Unary_Pos&#39;</span>),
<a name="l00222"></a>00222             ),
<a name="l00223"></a>00223             array(
<a name="l00224"></a>00224                 <span class="stringliteral">&#39;b-and&#39;</span>  =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 5, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_BitwiseAnd&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00225"></a>00225                 <span class="stringliteral">&#39;b-xor&#39;</span>  =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 5, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_BitwiseXor&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00226"></a>00226                 <span class="stringliteral">&#39;b-or&#39;</span>   =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 5, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_BitwiseOr&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00227"></a>00227                 <span class="stringliteral">&#39;or&#39;</span>     =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 10, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_Or&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00228"></a>00228                 <span class="stringliteral">&#39;and&#39;</span>    =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 15, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_And&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00229"></a>00229                 <span class="stringliteral">&#39;==&#39;</span>     =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 20, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_Equal&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00230"></a>00230                 <span class="stringliteral">&#39;!=&#39;</span>     =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 20, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_NotEqual&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00231"></a>00231                 <span class="charliteral">&#39;&lt;&#39;</span>      =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 20, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_Less&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00232"></a>00232                 <span class="charliteral">&#39;&gt;&#39;</span>      =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 20, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_Greater&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00233"></a>00233                 <span class="stringliteral">&#39;&gt;=&#39;</span>     =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 20, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_GreaterEqual&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00234"></a>00234                 <span class="stringliteral">&#39;&lt;=&#39;</span>     =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 20, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_LessEqual&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00235"></a>00235                 <span class="stringliteral">&#39;not in&#39;</span> =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 20, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_NotIn&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00236"></a>00236                 <span class="stringliteral">&#39;in&#39;</span>     =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 20, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_In&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00237"></a>00237                 <span class="stringliteral">&#39;..&#39;</span>     =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 25, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_Range&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00238"></a>00238                 <span class="charliteral">&#39;+&#39;</span>      =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 30, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_Add&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00239"></a>00239                 <span class="charliteral">&#39;-&#39;</span>      =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 30, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_Sub&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00240"></a>00240                 <span class="charliteral">&#39;~&#39;</span>      =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 40, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_Concat&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00241"></a>00241                 <span class="charliteral">&#39;*&#39;</span>      =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 60, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_Mul&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00242"></a>00242                 <span class="charliteral">&#39;/&#39;</span>      =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 60, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_Div&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00243"></a>00243                 <span class="stringliteral">&#39;//&#39;</span>     =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 60, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_FloorDiv&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00244"></a>00244                 <span class="charliteral">&#39;%&#39;</span>      =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 60, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_Mod&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00245"></a>00245                 <span class="stringliteral">&#39;is&#39;</span>     =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 100, <span class="stringliteral">&#39;callable&#39;</span> =&gt; array($this, <span class="stringliteral">&#39;parseTestExpression&#39;</span>), <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00246"></a>00246                 <span class="stringliteral">&#39;is not&#39;</span> =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 100, <span class="stringliteral">&#39;callable&#39;</span> =&gt; array($this, <span class="stringliteral">&#39;parseNotTestExpression&#39;</span>), <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#abe5a3390382bf3aba3867940eec28a61">Twig_ExpressionParser::OPERATOR_LEFT</a>),
<a name="l00247"></a>00247                 <span class="stringliteral">&#39;**&#39;</span>     =&gt; array(<span class="stringliteral">&#39;precedence&#39;</span> =&gt; 200, <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="stringliteral">&#39;Twig_Node_Expression_Binary_Power&#39;</span>, <span class="stringliteral">&#39;associativity&#39;</span> =&gt; <a class="code" href="class_twig___expression_parser.html#a90a1202797b2ac98156a907ac86d0052">Twig_ExpressionParser::OPERATOR_RIGHT</a>),
<a name="l00248"></a>00248             ),
<a name="l00249"></a>00249         );
<a name="l00250"></a>00250     }
<a name="l00251"></a>00251 
<a name="l00252"></a><a class="code" href="class_twig___extension___core.html#ab132af21e2eb4ab2141d671a8927fba8">00252</a>     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#ab132af21e2eb4ab2141d671a8927fba8">parseNotTestExpression</a>(<a class="code" href="class_twig___parser.html">Twig_Parser</a> $parser, $node)
<a name="l00253"></a>00253     {
<a name="l00254"></a>00254         <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_twig___node___expression___unary___not.html">Twig_Node_Expression_Unary_Not</a>($this-&gt;<a class="code" href="class_twig___extension___core.html#abbfc2ee690be26e6a16b0d0c5c1d62ff">parseTestExpression</a>($parser, $node), $parser-&gt;<a class="code" href="class_twig___parser.html#aa8c70f7e7e5c449b03703ff558a026a5">getCurrentToken</a>()-&gt;getLine());
<a name="l00255"></a>00255     }
<a name="l00256"></a>00256 
<a name="l00257"></a><a class="code" href="class_twig___extension___core.html#abbfc2ee690be26e6a16b0d0c5c1d62ff">00257</a>     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#abbfc2ee690be26e6a16b0d0c5c1d62ff">parseTestExpression</a>(<a class="code" href="class_twig___parser.html">Twig_Parser</a> $parser, $node)
<a name="l00258"></a>00258     {
<a name="l00259"></a>00259         $stream = $parser-&gt;<a class="code" href="class_twig___parser.html#a3e5834ff3daeecd091712270886a16fb">getStream</a>();
<a name="l00260"></a>00260         $name = $stream-&gt;expect(<a class="code" href="class_twig___token.html#a5dde6b9e81eb5c8dd046842570c5dab4">Twig_Token::NAME_TYPE</a>)-&gt;getValue();
<a name="l00261"></a>00261         $arguments = null;
<a name="l00262"></a>00262         <span class="keywordflow">if</span> ($stream-&gt;test(<a class="code" href="class_twig___token.html#a096168514425d8726b9baa79da07b24d">Twig_Token::PUNCTUATION_TYPE</a>, <span class="charliteral">&#39;(&#39;</span>)) {
<a name="l00263"></a>00263             $arguments = $parser-&gt;<a class="code" href="class_twig___parser.html#ace16df8b342fd0e63669db2a8ea3b060">getExpressionParser</a>()-&gt;parseArguments();
<a name="l00264"></a>00264         }
<a name="l00265"></a>00265 
<a name="l00266"></a>00266         $class = $this-&gt;<a class="code" href="class_twig___extension___core.html#a6a1960f7c4b62bd07304c2331ae15e3e">getTestNodeClass</a>($parser-&gt;<a class="code" href="class_twig___parser.html#a1a945689f9a90f9029d671ec32262d37">getEnvironment</a>(), $name);
<a name="l00267"></a>00267 
<a name="l00268"></a>00268         <span class="keywordflow">return</span> <span class="keyword">new</span> $class($node, $name, $arguments, $parser-&gt;<a class="code" href="class_twig___parser.html#aa8c70f7e7e5c449b03703ff558a026a5">getCurrentToken</a>()-&gt;getLine());
<a name="l00269"></a>00269     }
<a name="l00270"></a>00270 
<a name="l00271"></a><a class="code" href="class_twig___extension___core.html#a6a1960f7c4b62bd07304c2331ae15e3e">00271</a>     <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#a6a1960f7c4b62bd07304c2331ae15e3e">getTestNodeClass</a>(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $name)
<a name="l00272"></a>00272     {
<a name="l00273"></a>00273         $testMap = $env-&gt;<a class="code" href="class_twig___environment.html#a7e247dd31cc8d37a6c97353a062a0080">getTests</a>();
<a name="l00274"></a>00274         <span class="keywordflow">if</span> (isset($testMap[$name]) &amp;&amp; $testMap[$name] instanceof <a class="code" href="class_twig___test___node.html">Twig_Test_Node</a>) {
<a name="l00275"></a>00275             <span class="keywordflow">return</span> $testMap[$name]-&gt;getClass();
<a name="l00276"></a>00276         }
<a name="l00277"></a>00277 
<a name="l00278"></a>00278         <span class="keywordflow">return</span> <span class="stringliteral">&#39;Twig_Node_Expression_Test&#39;</span>;
<a name="l00279"></a>00279     }
<a name="l00280"></a>00280 
<a name="l00286"></a><a class="code" href="class_twig___extension___core.html#a3d0963e68bb313b163a73f2803c64600">00286</a>     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="class_twig___extension___core.html#a3d0963e68bb313b163a73f2803c64600">getName</a>()
<a name="l00287"></a>00287     {
<a name="l00288"></a>00288         <span class="keywordflow">return</span> <span class="stringliteral">&#39;core&#39;</span>;
<a name="l00289"></a>00289     }
<a name="l00290"></a>00290 }
<a name="l00291"></a>00291 
<a name="l00300"></a><a class="code" href="_core_8php.html#ac355183a3229ce2b335b4575436886c8">00300</a> <span class="keyword">function</span> <a class="code" href="_core_8php.html#ac355183a3229ce2b335b4575436886c8">twig_cycle</a>($values, $i)
<a name="l00301"></a>00301 {
<a name="l00302"></a>00302     <span class="keywordflow">if</span> (!is_array($values) &amp;&amp; !$values instanceof ArrayAccess) {
<a name="l00303"></a>00303         <span class="keywordflow">return</span> $values;
<a name="l00304"></a>00304     }
<a name="l00305"></a>00305 
<a name="l00306"></a>00306     <span class="keywordflow">return</span> $values[$i % count($values)];
<a name="l00307"></a>00307 }
<a name="l00308"></a>00308 
<a name="l00322"></a><a class="code" href="_core_8php.html#a46b1fff9237db97ae650dbb7a4423731">00322</a> <span class="keyword">function</span> <a class="code" href="_core_8php.html#a46b1fff9237db97ae650dbb7a4423731">twig_random</a>(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $values = null)
<a name="l00323"></a>00323 {
<a name="l00324"></a>00324     <span class="keywordflow">if</span> (null === $values) {
<a name="l00325"></a>00325         <span class="keywordflow">return</span> mt_rand();
<a name="l00326"></a>00326     }
<a name="l00327"></a>00327 
<a name="l00328"></a>00328     <span class="keywordflow">if</span> (is_int($values) || is_float($values)) {
<a name="l00329"></a>00329         <span class="keywordflow">return</span> $values &lt; 0 ? mt_rand($values, 0) : mt_rand(0, $values);
<a name="l00330"></a>00330     }
<a name="l00331"></a>00331 
<a name="l00332"></a>00332     <span class="keywordflow">if</span> ($values instanceof Traversable) {
<a name="l00333"></a>00333         $values = iterator_to_array($values);
<a name="l00334"></a>00334     } elseif (is_string($values)) {
<a name="l00335"></a>00335         <span class="keywordflow">if</span> (<span class="stringliteral">&#39;&#39;</span> === $values) {
<a name="l00336"></a>00336             <span class="keywordflow">return</span> <span class="stringliteral">&#39;&#39;</span>;
<a name="l00337"></a>00337         }
<a name="l00338"></a>00338         <span class="keywordflow">if</span> (null !== <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a> = $env-&gt;<a class="code" href="class_twig___environment.html#abca2d528da8311b6fcfe040768cbaa24">getCharset</a>()) {
<a name="l00339"></a>00339             <span class="keywordflow">if</span> (<span class="stringliteral">&#39;UTF-8&#39;</span> != <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>) {
<a name="l00340"></a>00340                 $values = twig_convert_encoding($values, <span class="stringliteral">&#39;UTF-8&#39;</span>, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>);
<a name="l00341"></a>00341             }
<a name="l00342"></a>00342 
<a name="l00343"></a>00343             <span class="comment">// unicode version of str_split()</span>
<a name="l00344"></a>00344             <span class="comment">// split at all positions, but not after the start and not before the end</span>
<a name="l00345"></a>00345             $values = preg_split(<span class="stringliteral">&#39;/(?&lt;!^)(?!$)/u&#39;</span>, $values);
<a name="l00346"></a>00346 
<a name="l00347"></a>00347             <span class="keywordflow">if</span> (<span class="stringliteral">&#39;UTF-8&#39;</span> != <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>) {
<a name="l00348"></a>00348                 <span class="keywordflow">foreach</span> ($values as $i =&gt; $value) {
<a name="l00349"></a>00349                     $values[$i] = twig_convert_encoding($value, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>, <span class="stringliteral">&#39;UTF-8&#39;</span>);
<a name="l00350"></a>00350                 }
<a name="l00351"></a>00351             }
<a name="l00352"></a>00352         } <span class="keywordflow">else</span> {
<a name="l00353"></a>00353             <span class="keywordflow">return</span> $values[mt_rand(0, strlen($values) - 1)];
<a name="l00354"></a>00354         }
<a name="l00355"></a>00355     }
<a name="l00356"></a>00356 
<a name="l00357"></a>00357     <span class="keywordflow">if</span> (!is_array($values)) {
<a name="l00358"></a>00358         <span class="keywordflow">return</span> $values;
<a name="l00359"></a>00359     }
<a name="l00360"></a>00360 
<a name="l00361"></a>00361     <span class="keywordflow">if</span> (0 === count($values)) {
<a name="l00362"></a>00362         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_twig___error___runtime.html">Twig_Error_Runtime</a>(<span class="stringliteral">&#39;The random function cannot pick from an empty array.&#39;</span>);
<a name="l00363"></a>00363     }
<a name="l00364"></a>00364 
<a name="l00365"></a>00365     <span class="keywordflow">return</span> $values[array_rand($values, 1)];
<a name="l00366"></a>00366 }
<a name="l00367"></a>00367 
<a name="l00382"></a><a class="code" href="_core_8php.html#ab6f713e89351d1270e56b87edea0d429">00382</a> <span class="keyword">function</span> <a class="code" href="_core_8php.html#ab6f713e89351d1270e56b87edea0d429">twig_date_format_filter</a>(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $date, $format = null, $timezone = null)
<a name="l00383"></a>00383 {
<a name="l00384"></a>00384     <span class="keywordflow">if</span> (null === $format) {
<a name="l00385"></a>00385         $formats = $env-&gt;<a class="code" href="class_twig___environment.html#af2f1572d80cede386cbf11bd7e213c31">getExtension</a>(<span class="stringliteral">&#39;core&#39;</span>)-&gt;getDateFormat();
<a name="l00386"></a>00386         $format = $date instanceof DateInterval ? $formats[1] : $formats[0];
<a name="l00387"></a>00387     }
<a name="l00388"></a>00388 
<a name="l00389"></a>00389     <span class="keywordflow">if</span> ($date instanceof DateInterval || $date instanceof DateTime) {
<a name="l00390"></a>00390         <span class="keywordflow">if</span> (null !== $timezone) {
<a name="l00391"></a>00391             $date = clone $date;
<a name="l00392"></a>00392             $date-&gt;setTimezone($timezone instanceof DateTimeZone ? $timezone : <span class="keyword">new</span> DateTimeZone($timezone));
<a name="l00393"></a>00393         }
<a name="l00394"></a>00394 
<a name="l00395"></a>00395         <span class="keywordflow">return</span> $date-&gt;format($format);
<a name="l00396"></a>00396     }
<a name="l00397"></a>00397 
<a name="l00398"></a>00398     <span class="keywordflow">return</span> <a class="code" href="_core_8php.html#a8968dbab5bd7f6f40f236291e985f430">twig_date_converter</a>($env, $date, $timezone)-&gt;format($format);
<a name="l00399"></a>00399 }
<a name="l00400"></a>00400 
<a name="l00416"></a><a class="code" href="_core_8php.html#a8968dbab5bd7f6f40f236291e985f430">00416</a> <span class="keyword">function</span> <a class="code" href="_core_8php.html#a8968dbab5bd7f6f40f236291e985f430">twig_date_converter</a>(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $date = null, $timezone = null)
<a name="l00417"></a>00417 {
<a name="l00418"></a>00418     <span class="keywordflow">if</span> ($date instanceof DateTime) {
<a name="l00419"></a>00419         <span class="keywordflow">return</span> $date;
<a name="l00420"></a>00420     }
<a name="l00421"></a>00421 
<a name="l00422"></a>00422     $asString = (string) $date;
<a name="l00423"></a>00423 
<a name="l00424"></a>00424     <span class="keywordflow">if</span> (ctype_digit($asString) || (!empty($asString) &amp;&amp; <span class="charliteral">&#39;-&#39;</span> === $asString[0] &amp;&amp; ctype_digit(substr($asString, 1)))) {
<a name="l00425"></a>00425         $date = <span class="keyword">new</span> DateTime(<span class="charliteral">&#39;@&#39;</span>.$date);
<a name="l00426"></a>00426         $date-&gt;setTimezone(<span class="keyword">new</span> DateTimeZone(date_default_timezone_get()));
<a name="l00427"></a>00427     } <span class="keywordflow">else</span> {
<a name="l00428"></a>00428         $date = <span class="keyword">new</span> DateTime($date);
<a name="l00429"></a>00429     }
<a name="l00430"></a>00430 
<a name="l00431"></a>00431     <span class="comment">// set Timezone</span>
<a name="l00432"></a>00432     <span class="keywordflow">if</span> (null !== $timezone) {
<a name="l00433"></a>00433         <span class="keywordflow">if</span> (!$timezone instanceof DateTimeZone) {
<a name="l00434"></a>00434             $timezone = <span class="keyword">new</span> DateTimeZone($timezone);
<a name="l00435"></a>00435         }
<a name="l00436"></a>00436 
<a name="l00437"></a>00437         $date-&gt;setTimezone($timezone);
<a name="l00438"></a>00438     } elseif (($timezone = $env-&gt;<a class="code" href="class_twig___environment.html#af2f1572d80cede386cbf11bd7e213c31">getExtension</a>(<span class="stringliteral">&#39;core&#39;</span>)-&gt;getTimezone()) instanceof DateTimeZone) {
<a name="l00439"></a>00439         $date-&gt;setTimezone($timezone);
<a name="l00440"></a>00440     }
<a name="l00441"></a>00441 
<a name="l00442"></a>00442     <span class="keywordflow">return</span> $date;
<a name="l00443"></a>00443 }
<a name="l00444"></a>00444 
<a name="l00460"></a><a class="code" href="_core_8php.html#a8e25fc2ecad707b16aa62ca70f8df2f7">00460</a> <span class="keyword">function</span> <a class="code" href="_core_8php.html#a8e25fc2ecad707b16aa62ca70f8df2f7">twig_number_format_filter</a>(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $number, $decimal = null, $decimalPoint = null, $thousandSep = null)
<a name="l00461"></a>00461 {
<a name="l00462"></a>00462     $defaults = $env-&gt;<a class="code" href="class_twig___environment.html#af2f1572d80cede386cbf11bd7e213c31">getExtension</a>(<span class="stringliteral">&#39;core&#39;</span>)-&gt;getNumberFormat();
<a name="l00463"></a>00463     <span class="keywordflow">if</span> (null === $decimal) {
<a name="l00464"></a>00464         $decimal = $defaults[0];
<a name="l00465"></a>00465     }
<a name="l00466"></a>00466 
<a name="l00467"></a>00467     <span class="keywordflow">if</span> (null === $decimalPoint) {
<a name="l00468"></a>00468         $decimalPoint = $defaults[1];
<a name="l00469"></a>00469     }
<a name="l00470"></a>00470 
<a name="l00471"></a>00471     <span class="keywordflow">if</span> (null === $thousandSep) {
<a name="l00472"></a>00472         $thousandSep = $defaults[2];
<a name="l00473"></a>00473     }
<a name="l00474"></a>00474 
<a name="l00475"></a>00475     <span class="keywordflow">return</span> number_format((<span class="keywordtype">float</span>) $number, $decimal, $decimalPoint, $thousandSep);
<a name="l00476"></a>00476 }
<a name="l00477"></a>00477 
<a name="l00486"></a><a class="code" href="_core_8php.html#a83137691d03c6448442dbbf73187ed9a">00486</a> <span class="keyword">function</span> <a class="code" href="_core_8php.html#a83137691d03c6448442dbbf73187ed9a">twig_urlencode_filter</a>($url, $raw = <span class="keyword">false</span>)
<a name="l00487"></a>00487 {
<a name="l00488"></a>00488     <span class="keywordflow">if</span> ($raw) {
<a name="l00489"></a>00489         <span class="keywordflow">return</span> rawurlencode($url);
<a name="l00490"></a>00490     }
<a name="l00491"></a>00491 
<a name="l00492"></a>00492     <span class="keywordflow">return</span> urlencode($url);
<a name="l00493"></a>00493 }
<a name="l00494"></a>00494 
<a name="l00495"></a>00495 <span class="keywordflow">if</span> (version_compare(PHP_VERSION, <span class="stringliteral">&#39;5.3.0&#39;</span>, <span class="charliteral">&#39;&lt;&#39;</span>)) {
<a name="l00504"></a>00504     <span class="keyword">function</span> twig_jsonencode_filter($value, $options = 0)
<a name="l00505"></a>00505     {
<a name="l00506"></a>00506         <span class="keywordflow">if</span> ($value instanceof <a class="code" href="class_twig___markup.html">Twig_Markup</a>) {
<a name="l00507"></a>00507             $value = (string) $value;
<a name="l00508"></a>00508         } elseif (is_array($value)) {
<a name="l00509"></a>00509             array_walk_recursive($value, <span class="stringliteral">&#39;_twig_markup2string&#39;</span>);
<a name="l00510"></a>00510         }
<a name="l00511"></a>00511 
<a name="l00512"></a>00512         <span class="keywordflow">return</span> json_encode($value);
<a name="l00513"></a>00513     }
<a name="l00514"></a>00514 } <span class="keywordflow">else</span> {
<a name="l00523"></a>00523     <span class="keyword">function</span> twig_jsonencode_filter($value, $options = 0)
<a name="l00524"></a>00524     {
<a name="l00525"></a>00525         <span class="keywordflow">if</span> ($value instanceof <a class="code" href="class_twig___markup.html">Twig_Markup</a>) {
<a name="l00526"></a>00526             $value = (string) $value;
<a name="l00527"></a>00527         } elseif (is_array($value)) {
<a name="l00528"></a>00528             array_walk_recursive($value, <span class="stringliteral">&#39;_twig_markup2string&#39;</span>);
<a name="l00529"></a>00529         }
<a name="l00530"></a>00530 
<a name="l00531"></a>00531         <span class="keywordflow">return</span> json_encode($value, $options);
<a name="l00532"></a>00532     }
<a name="l00533"></a>00533 }
<a name="l00534"></a>00534 
<a name="l00535"></a>00535 <span class="keyword">function</span> _twig_markup2string(&amp;$value)
<a name="l00536"></a>00536 {
<a name="l00537"></a>00537     <span class="keywordflow">if</span> ($value instanceof <a class="code" href="class_twig___markup.html">Twig_Markup</a>) {
<a name="l00538"></a>00538         $value = (string) $value;
<a name="l00539"></a>00539     }
<a name="l00540"></a>00540 }
<a name="l00541"></a>00541 
<a name="l00558"></a>00558 <span class="keyword">function</span> twig_array_merge($arr1, $arr2)
<a name="l00559"></a>00559 {
<a name="l00560"></a>00560     <span class="keywordflow">if</span> (!is_array($arr1) || !is_array($arr2)) {
<a name="l00561"></a>00561         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_twig___error___runtime.html">Twig_Error_Runtime</a>(<span class="stringliteral">&#39;The merge filter only works with arrays or hashes.&#39;</span>);
<a name="l00562"></a>00562     }
<a name="l00563"></a>00563 
<a name="l00564"></a>00564     <span class="keywordflow">return</span> array_merge($arr1, $arr2);
<a name="l00565"></a>00565 }
<a name="l00566"></a>00566 
<a name="l00578"></a>00578 <span class="keyword">function</span> twig_slice(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $item, $start, $length = null, $preserveKeys = <span class="keyword">false</span>)
<a name="l00579"></a>00579 {
<a name="l00580"></a>00580     <span class="keywordflow">if</span> ($item instanceof Traversable) {
<a name="l00581"></a>00581         $item = iterator_to_array($item, <span class="keyword">false</span>);
<a name="l00582"></a>00582     }
<a name="l00583"></a>00583 
<a name="l00584"></a>00584     <span class="keywordflow">if</span> (is_array($item)) {
<a name="l00585"></a>00585         <span class="keywordflow">return</span> array_slice($item, $start, $length, $preserveKeys);
<a name="l00586"></a>00586     }
<a name="l00587"></a>00587 
<a name="l00588"></a>00588     $item = (string) $item;
<a name="l00589"></a>00589 
<a name="l00590"></a>00590     <span class="keywordflow">if</span> (function_exists(<span class="stringliteral">&#39;mb_get_info&#39;</span>) &amp;&amp; null !== <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a> = $env-&gt;<a class="code" href="class_twig___environment.html#abca2d528da8311b6fcfe040768cbaa24">getCharset</a>()) {
<a name="l00591"></a>00591         <span class="keywordflow">return</span> mb_substr($item, $start, null === $length ? mb_strlen($item, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>) - $start : $length, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>);
<a name="l00592"></a>00592     }
<a name="l00593"></a>00593 
<a name="l00594"></a>00594     <span class="keywordflow">return</span> null === $length ? substr($item, $start) : substr($item, $start, $length);
<a name="l00595"></a>00595 }
<a name="l00596"></a>00596 
<a name="l00615"></a>00615 <span class="keyword">function</span> twig_join_filter($value, $glue = <span class="stringliteral">&#39;&#39;</span>)
<a name="l00616"></a>00616 {
<a name="l00617"></a>00617     <span class="keywordflow">if</span> ($value instanceof Traversable) {
<a name="l00618"></a>00618         $value = iterator_to_array($value, <span class="keyword">false</span>);
<a name="l00619"></a>00619     }
<a name="l00620"></a>00620 
<a name="l00621"></a>00621     <span class="keywordflow">return</span> implode($glue, (array) $value);
<a name="l00622"></a>00622 }
<a name="l00623"></a>00623 
<a name="l00624"></a>00624 <span class="comment">// The &#39;_default&#39; filter is used internally to avoid using the ternary operator</span>
<a name="l00625"></a>00625 <span class="comment">// which costs a lot for big contexts (before PHP 5.4). So, on average,</span>
<a name="l00626"></a>00626 <span class="comment">// a function call is cheaper.</span>
<a name="l00627"></a>00627 <span class="keyword">function</span> _twig_default_filter($value, $default = <span class="stringliteral">&#39;&#39;</span>)
<a name="l00628"></a>00628 {
<a name="l00629"></a>00629     <span class="keywordflow">if</span> (twig_test_empty($value)) {
<a name="l00630"></a>00630         <span class="keywordflow">return</span> $default;
<a name="l00631"></a>00631     }
<a name="l00632"></a>00632 
<a name="l00633"></a>00633     <span class="keywordflow">return</span> $value;
<a name="l00634"></a>00634 }
<a name="l00635"></a>00635 
<a name="l00651"></a>00651 <span class="keyword">function</span> twig_get_array_keys_filter($array)
<a name="l00652"></a>00652 {
<a name="l00653"></a>00653     <span class="keywordflow">if</span> (is_object($array) &amp;&amp; $array instanceof Traversable) {
<a name="l00654"></a>00654         <span class="keywordflow">return</span> array_keys(iterator_to_array($array));
<a name="l00655"></a>00655     }
<a name="l00656"></a>00656 
<a name="l00657"></a>00657     <span class="keywordflow">if</span> (!is_array($array)) {
<a name="l00658"></a>00658         <span class="keywordflow">return</span> array();
<a name="l00659"></a>00659     }
<a name="l00660"></a>00660 
<a name="l00661"></a>00661     <span class="keywordflow">return</span> array_keys($array);
<a name="l00662"></a>00662 }
<a name="l00663"></a>00663 
<a name="l00673"></a>00673 <span class="keyword">function</span> twig_reverse_filter(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $item, $preserveKeys = <span class="keyword">false</span>)
<a name="l00674"></a>00674 {
<a name="l00675"></a>00675     <span class="keywordflow">if</span> (is_object($item) &amp;&amp; $item instanceof Traversable) {
<a name="l00676"></a>00676         <span class="keywordflow">return</span> array_reverse(iterator_to_array($item), $preserveKeys);
<a name="l00677"></a>00677     }
<a name="l00678"></a>00678 
<a name="l00679"></a>00679     <span class="keywordflow">if</span> (is_array($item)) {
<a name="l00680"></a>00680         <span class="keywordflow">return</span> array_reverse($item, $preserveKeys);
<a name="l00681"></a>00681     }
<a name="l00682"></a>00682 
<a name="l00683"></a>00683     <span class="keywordflow">if</span> (null !== <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a> = $env-&gt;<a class="code" href="class_twig___environment.html#abca2d528da8311b6fcfe040768cbaa24">getCharset</a>()) {
<a name="l00684"></a>00684         $string = (string) $item;
<a name="l00685"></a>00685 
<a name="l00686"></a>00686         <span class="keywordflow">if</span> (<span class="stringliteral">&#39;UTF-8&#39;</span> != <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>) {
<a name="l00687"></a>00687             $item = twig_convert_encoding($string, <span class="stringliteral">&#39;UTF-8&#39;</span>, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>);
<a name="l00688"></a>00688         }
<a name="l00689"></a>00689 
<a name="l00690"></a>00690         preg_match_all(<span class="stringliteral">&#39;/./us&#39;</span>, $item, $matches);
<a name="l00691"></a>00691 
<a name="l00692"></a>00692         $string = implode(<span class="stringliteral">&#39;&#39;</span>, array_reverse($matches[0]));
<a name="l00693"></a>00693 
<a name="l00694"></a>00694         <span class="keywordflow">if</span> (<span class="stringliteral">&#39;UTF-8&#39;</span> != <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>) {
<a name="l00695"></a>00695             $string = twig_convert_encoding($string, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>, <span class="stringliteral">&#39;UTF-8&#39;</span>);
<a name="l00696"></a>00696         }
<a name="l00697"></a>00697 
<a name="l00698"></a>00698         <span class="keywordflow">return</span> $string;
<a name="l00699"></a>00699     }
<a name="l00700"></a>00700 
<a name="l00701"></a>00701     <span class="keywordflow">return</span> strrev((<span class="keywordtype">string</span>) $item);
<a name="l00702"></a>00702 }
<a name="l00703"></a>00703 
<a name="l00709"></a>00709 <span class="keyword">function</span> twig_sort_filter($array)
<a name="l00710"></a>00710 {
<a name="l00711"></a>00711     asort($array);
<a name="l00712"></a>00712 
<a name="l00713"></a>00713     <span class="keywordflow">return</span> $array;
<a name="l00714"></a>00714 }
<a name="l00715"></a>00715 
<a name="l00716"></a>00716 <span class="comment">/* used internally */</span>
<a name="l00717"></a>00717 <span class="keyword">function</span> twig_in_filter($value, $compare)
<a name="l00718"></a>00718 {
<a name="l00719"></a>00719     <span class="keywordflow">if</span> (is_array($compare)) {
<a name="l00720"></a>00720         <span class="keywordflow">return</span> in_array($value, $compare);
<a name="l00721"></a>00721     } elseif (is_string($compare)) {
<a name="l00722"></a>00722         <span class="keywordflow">if</span> (!strlen((<span class="keywordtype">string</span>) $value)) {
<a name="l00723"></a>00723             <span class="keywordflow">return</span> empty($compare);
<a name="l00724"></a>00724         }
<a name="l00725"></a>00725 
<a name="l00726"></a>00726         <span class="keywordflow">return</span> <span class="keyword">false</span> !== strpos($compare, (<span class="keywordtype">string</span>) $value);
<a name="l00727"></a>00727     } elseif (is_object($compare) &amp;&amp; $compare instanceof Traversable) {
<a name="l00728"></a>00728         <span class="keywordflow">return</span> in_array($value, iterator_to_array($compare, <span class="keyword">false</span>));
<a name="l00729"></a>00729     }
<a name="l00730"></a>00730 
<a name="l00731"></a>00731     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00732"></a>00732 }
<a name="l00733"></a>00733 
<a name="l00743"></a>00743 <span class="keyword">function</span> twig_escape_filter(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $string, $strategy = <span class="stringliteral">&#39;html&#39;</span>, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a> = null, $autoescape = <span class="keyword">false</span>)
<a name="l00744"></a>00744 {
<a name="l00745"></a>00745     <span class="keywordflow">if</span> ($autoescape &amp;&amp; is_object($string) &amp;&amp; $string instanceof <a class="code" href="class_twig___markup.html">Twig_Markup</a>) {
<a name="l00746"></a>00746         <span class="keywordflow">return</span> $string;
<a name="l00747"></a>00747     }
<a name="l00748"></a>00748 
<a name="l00749"></a>00749     <span class="keywordflow">if</span> (!is_string($string) &amp;&amp; !(is_object($string) &amp;&amp; method_exists($string, <span class="stringliteral">&#39;__toString&#39;</span>))) {
<a name="l00750"></a>00750         <span class="keywordflow">return</span> $string;
<a name="l00751"></a>00751     }
<a name="l00752"></a>00752 
<a name="l00753"></a>00753     <span class="keywordflow">if</span> (null === <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>) {
<a name="l00754"></a>00754         <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a> = $env-&gt;<a class="code" href="class_twig___environment.html#abca2d528da8311b6fcfe040768cbaa24">getCharset</a>();
<a name="l00755"></a>00755     }
<a name="l00756"></a>00756 
<a name="l00757"></a>00757     $string = (string) $string;
<a name="l00758"></a>00758 
<a name="l00759"></a>00759     <span class="keywordflow">switch</span> ($strategy) {
<a name="l00760"></a>00760         <span class="keywordflow">case</span> <span class="stringliteral">&#39;js&#39;</span>:
<a name="l00761"></a>00761             <span class="comment">// escape all non-alphanumeric characters</span>
<a name="l00762"></a>00762             <span class="comment">// into their \xHH or \uHHHH representations</span>
<a name="l00763"></a>00763             <span class="keywordflow">if</span> (<span class="stringliteral">&#39;UTF-8&#39;</span> != <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>) {
<a name="l00764"></a>00764                 $string = twig_convert_encoding($string, <span class="stringliteral">&#39;UTF-8&#39;</span>, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>);
<a name="l00765"></a>00765             }
<a name="l00766"></a>00766 
<a name="l00767"></a>00767             <span class="keywordflow">if</span> (null === $string = preg_replace_callback(<span class="stringliteral">&#39;#[^\p{L}\p{N} ]#u&#39;</span>, <span class="stringliteral">&#39;_twig_escape_js_callback&#39;</span>, $string)) {
<a name="l00768"></a>00768                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_twig___error___runtime.html">Twig_Error_Runtime</a>(<span class="stringliteral">&#39;The string to escape is not a valid UTF-8 string.&#39;</span>);
<a name="l00769"></a>00769             }
<a name="l00770"></a>00770 
<a name="l00771"></a>00771             <span class="keywordflow">if</span> (<span class="stringliteral">&#39;UTF-8&#39;</span> != <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>) {
<a name="l00772"></a>00772                 $string = twig_convert_encoding($string, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>, <span class="stringliteral">&#39;UTF-8&#39;</span>);
<a name="l00773"></a>00773             }
<a name="l00774"></a>00774 
<a name="l00775"></a>00775             <span class="keywordflow">return</span> $string;
<a name="l00776"></a>00776 
<a name="l00777"></a>00777         <span class="keywordflow">case</span> <span class="stringliteral">&#39;html&#39;</span>:
<a name="l00778"></a>00778             <span class="comment">// see http://php.net/htmlspecialchars</span>
<a name="l00779"></a>00779 
<a name="l00780"></a>00780             <span class="comment">// Using a static variable to avoid initializing the array</span>
<a name="l00781"></a>00781             <span class="comment">// each time the function is called. Moving the declaration on the</span>
<a name="l00782"></a>00782             <span class="comment">// top of the function slow downs other escaping strategies.</span>
<a name="l00783"></a>00783             <span class="keyword">static</span> $htmlspecialcharsCharsets = array(
<a name="l00784"></a>00784                 <span class="stringliteral">&#39;iso-8859-1&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;iso8859-1&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00785"></a>00785                 <span class="stringliteral">&#39;iso-8859-15&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;iso8859-15&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00786"></a>00786                 <span class="stringliteral">&#39;utf-8&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00787"></a>00787                 <span class="stringliteral">&#39;cp866&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;ibm866&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;866&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00788"></a>00788                 <span class="stringliteral">&#39;cp1251&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;windows-1251&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;win-1251&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00789"></a>00789                 <span class="stringliteral">&#39;1251&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00790"></a>00790                 <span class="stringliteral">&#39;cp1252&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;windows-1252&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;1252&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00791"></a>00791                 <span class="stringliteral">&#39;koi8-r&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;koi8-ru&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;koi8r&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00792"></a>00792                 <span class="stringliteral">&#39;big5&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;950&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00793"></a>00793                 <span class="stringliteral">&#39;gb2312&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;936&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00794"></a>00794                 <span class="stringliteral">&#39;big5-hkscs&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00795"></a>00795                 <span class="stringliteral">&#39;shift_jis&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;sjis&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;932&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00796"></a>00796                 <span class="stringliteral">&#39;euc-jp&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;eucjp&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00797"></a>00797                 <span class="stringliteral">&#39;iso8859-5&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;iso-8859-5&#39;</span> =&gt; <span class="keyword">true</span>, <span class="stringliteral">&#39;macroman&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00798"></a>00798             );
<a name="l00799"></a>00799 
<a name="l00800"></a>00800             <span class="keywordflow">if</span> (isset($htmlspecialcharsCharsets[strtolower(<a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>)])) {
<a name="l00801"></a>00801                 <span class="keywordflow">return</span> htmlspecialchars($string, ENT_QUOTES | ENT_SUBSTITUTE, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>);
<a name="l00802"></a>00802             }
<a name="l00803"></a>00803 
<a name="l00804"></a>00804             $string = twig_convert_encoding($string, <span class="stringliteral">&#39;UTF-8&#39;</span>, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>);
<a name="l00805"></a>00805             $string = htmlspecialchars($string, ENT_QUOTES | ENT_SUBSTITUTE, <span class="stringliteral">&#39;UTF-8&#39;</span>);
<a name="l00806"></a>00806 
<a name="l00807"></a>00807             <span class="keywordflow">return</span> twig_convert_encoding($string, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>, <span class="stringliteral">&#39;UTF-8&#39;</span>);
<a name="l00808"></a>00808 
<a name="l00809"></a>00809         <span class="keywordflow">default</span>:
<a name="l00810"></a>00810             <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_twig___error___runtime.html">Twig_Error_Runtime</a>(sprintf(<span class="stringliteral">&#39;Invalid escaping strategy &quot;%s&quot; (valid ones: html, js).&#39;</span>, $strategy));
<a name="l00811"></a>00811     }
<a name="l00812"></a>00812 }
<a name="l00813"></a>00813 
<a name="l00814"></a>00814 <span class="comment">/* used internally */</span>
<a name="l00815"></a>00815 <span class="keyword">function</span> twig_escape_filter_is_safe(<a class="code" href="class_twig___node.html">Twig_Node</a> $filterArgs)
<a name="l00816"></a>00816 {
<a name="l00817"></a>00817     <span class="keywordflow">foreach</span> ($filterArgs as $arg) {
<a name="l00818"></a>00818         <span class="keywordflow">if</span> ($arg instanceof <a class="code" href="class_twig___node___expression___constant.html">Twig_Node_Expression_Constant</a>) {
<a name="l00819"></a>00819             <span class="keywordflow">return</span> array($arg-&gt;getAttribute(<span class="stringliteral">&#39;value&#39;</span>));
<a name="l00820"></a>00820         }
<a name="l00821"></a>00821 
<a name="l00822"></a>00822         <span class="keywordflow">return</span> array();
<a name="l00823"></a>00823     }
<a name="l00824"></a>00824 
<a name="l00825"></a>00825     <span class="keywordflow">return</span> array(<span class="stringliteral">&#39;html&#39;</span>);
<a name="l00826"></a>00826 }
<a name="l00827"></a>00827 
<a name="l00828"></a>00828 <span class="keywordflow">if</span> (function_exists(<span class="stringliteral">&#39;iconv&#39;</span>)) {
<a name="l00829"></a>00829     <span class="keyword">function</span> twig_convert_encoding($string, $to, $from)
<a name="l00830"></a>00830     {
<a name="l00831"></a>00831         <span class="keywordflow">return</span> iconv($from, $to, $string);
<a name="l00832"></a>00832     }
<a name="l00833"></a>00833 } elseif (function_exists(<span class="stringliteral">&#39;mb_convert_encoding&#39;</span>)) {
<a name="l00834"></a>00834     <span class="keyword">function</span> twig_convert_encoding($string, $to, $from)
<a name="l00835"></a>00835     {
<a name="l00836"></a>00836         <span class="keywordflow">return</span> mb_convert_encoding($string, $to, $from);
<a name="l00837"></a>00837     }
<a name="l00838"></a>00838 } <span class="keywordflow">else</span> {
<a name="l00839"></a>00839     <span class="keyword">function</span> twig_convert_encoding($string, $to, $from)
<a name="l00840"></a>00840     {
<a name="l00841"></a>00841         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_twig___error___runtime.html">Twig_Error_Runtime</a>(<span class="stringliteral">&#39;No suitable convert encoding function (use UTF-8 as your encoding or install the iconv or mbstring extension).&#39;</span>);
<a name="l00842"></a>00842     }
<a name="l00843"></a>00843 }
<a name="l00844"></a>00844 
<a name="l00845"></a>00845 <span class="keyword">function</span> _twig_escape_js_callback($matches)
<a name="l00846"></a>00846 {
<a name="l00847"></a>00847     $char = $matches[0];
<a name="l00848"></a>00848 
<a name="l00849"></a>00849     <span class="comment">// \xHH</span>
<a name="l00850"></a>00850     <span class="keywordflow">if</span> (!isset($char[1])) {
<a name="l00851"></a>00851         <span class="keywordflow">return</span> <span class="stringliteral">&#39;\\x&#39;</span>.substr(<span class="stringliteral">&#39;00&#39;</span>.bin2hex($char), -2);
<a name="l00852"></a>00852     }
<a name="l00853"></a>00853 
<a name="l00854"></a>00854     <span class="comment">// \uHHHH</span>
<a name="l00855"></a>00855     $char = twig_convert_encoding($char, <span class="stringliteral">&#39;UTF-16BE&#39;</span>, <span class="stringliteral">&#39;UTF-8&#39;</span>);
<a name="l00856"></a>00856 
<a name="l00857"></a>00857     <span class="keywordflow">return</span> <span class="stringliteral">&#39;\\u&#39;</span>.substr(<span class="stringliteral">&#39;0000&#39;</span>.bin2hex($char), -4);
<a name="l00858"></a>00858 }
<a name="l00859"></a>00859 
<a name="l00860"></a>00860 <span class="comment">// add multibyte extensions if possible</span>
<a name="l00861"></a>00861 <span class="keywordflow">if</span> (function_exists(<span class="stringliteral">&#39;mb_get_info&#39;</span>)) {
<a name="l00870"></a>00870     <span class="keyword">function</span> twig_length_filter(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $thing)
<a name="l00871"></a>00871     {
<a name="l00872"></a>00872         <span class="keywordflow">return</span> is_scalar($thing) ? mb_strlen($thing, $env-&gt;<a class="code" href="class_twig___environment.html#abca2d528da8311b6fcfe040768cbaa24">getCharset</a>()) : count($thing);
<a name="l00873"></a>00873     }
<a name="l00874"></a>00874 
<a name="l00883"></a>00883     <span class="keyword">function</span> twig_upper_filter(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $string)
<a name="l00884"></a>00884     {
<a name="l00885"></a>00885         <span class="keywordflow">if</span> (null !== (<a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a> = $env-&gt;<a class="code" href="class_twig___environment.html#abca2d528da8311b6fcfe040768cbaa24">getCharset</a>())) {
<a name="l00886"></a>00886             <span class="keywordflow">return</span> mb_strtoupper($string, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>);
<a name="l00887"></a>00887         }
<a name="l00888"></a>00888 
<a name="l00889"></a>00889         <span class="keywordflow">return</span> strtoupper($string);
<a name="l00890"></a>00890     }
<a name="l00891"></a>00891 
<a name="l00900"></a>00900     <span class="keyword">function</span> twig_lower_filter(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $string)
<a name="l00901"></a>00901     {
<a name="l00902"></a>00902         <span class="keywordflow">if</span> (null !== (<a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a> = $env-&gt;<a class="code" href="class_twig___environment.html#abca2d528da8311b6fcfe040768cbaa24">getCharset</a>())) {
<a name="l00903"></a>00903             <span class="keywordflow">return</span> mb_strtolower($string, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>);
<a name="l00904"></a>00904         }
<a name="l00905"></a>00905 
<a name="l00906"></a>00906         <span class="keywordflow">return</span> strtolower($string);
<a name="l00907"></a>00907     }
<a name="l00908"></a>00908 
<a name="l00917"></a>00917     <span class="keyword">function</span> twig_title_string_filter(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $string)
<a name="l00918"></a>00918     {
<a name="l00919"></a>00919         <span class="keywordflow">if</span> (null !== (<a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a> = $env-&gt;<a class="code" href="class_twig___environment.html#abca2d528da8311b6fcfe040768cbaa24">getCharset</a>())) {
<a name="l00920"></a>00920             <span class="keywordflow">return</span> mb_convert_case($string, MB_CASE_TITLE, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>);
<a name="l00921"></a>00921         }
<a name="l00922"></a>00922 
<a name="l00923"></a>00923         <span class="keywordflow">return</span> ucwords(strtolower($string));
<a name="l00924"></a>00924     }
<a name="l00925"></a>00925 
<a name="l00934"></a>00934     <span class="keyword">function</span> twig_capitalize_string_filter(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $string)
<a name="l00935"></a>00935     {
<a name="l00936"></a>00936         <span class="keywordflow">if</span> (null !== (<a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a> = $env-&gt;<a class="code" href="class_twig___environment.html#abca2d528da8311b6fcfe040768cbaa24">getCharset</a>())) {
<a name="l00937"></a>00937             <span class="keywordflow">return</span> mb_strtoupper(mb_substr($string, 0, 1, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>), <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>).
<a name="l00938"></a>00938                          mb_strtolower(mb_substr($string, 1, mb_strlen($string, <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>), <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>), <a class="code" href="extensions_2_x_m_l_data_source_2lib_2app_2index_8php.html#af10158dd74b75f1d337e83102d6b82ce">$charset</a>);
<a name="l00939"></a>00939         }
<a name="l00940"></a>00940 
<a name="l00941"></a>00941         <span class="keywordflow">return</span> ucfirst(strtolower($string));
<a name="l00942"></a>00942     }
<a name="l00943"></a>00943 }
<a name="l00944"></a>00944 <span class="comment">// and byte fallback</span>
<a name="l00945"></a>00945 <span class="keywordflow">else</span>
<a name="l00946"></a>00946 {
<a name="l00955"></a>00955     <span class="keyword">function</span> twig_length_filter(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $thing)
<a name="l00956"></a>00956     {
<a name="l00957"></a>00957         <span class="keywordflow">return</span> is_scalar($thing) ? strlen($thing) : count($thing);
<a name="l00958"></a>00958     }
<a name="l00959"></a>00959 
<a name="l00968"></a>00968     <span class="keyword">function</span> twig_title_string_filter(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $string)
<a name="l00969"></a>00969     {
<a name="l00970"></a>00970         <span class="keywordflow">return</span> ucwords(strtolower($string));
<a name="l00971"></a>00971     }
<a name="l00972"></a>00972 
<a name="l00981"></a>00981     <span class="keyword">function</span> twig_capitalize_string_filter(<a class="code" href="class_twig___environment.html">Twig_Environment</a> $env, $string)
<a name="l00982"></a>00982     {
<a name="l00983"></a>00983         <span class="keywordflow">return</span> ucfirst(strtolower($string));
<a name="l00984"></a>00984     }
<a name="l00985"></a>00985 }
<a name="l00986"></a>00986 
<a name="l00987"></a>00987 <span class="comment">/* used internally */</span>
<a name="l00988"></a>00988 <span class="keyword">function</span> twig_ensure_traversable($seq)
<a name="l00989"></a>00989 {
<a name="l00990"></a>00990     <span class="keywordflow">if</span> ($seq instanceof Traversable || is_array($seq)) {
<a name="l00991"></a>00991         <span class="keywordflow">return</span> $seq;
<a name="l00992"></a>00992     }
<a name="l00993"></a>00993 
<a name="l00994"></a>00994     <span class="keywordflow">return</span> array();
<a name="l00995"></a>00995 }
<a name="l00996"></a>00996 
<a name="l01011"></a>01011 <span class="keyword">function</span> twig_test_empty($value)
<a name="l01012"></a>01012 {
<a name="l01013"></a>01013     <span class="keywordflow">if</span> ($value instanceof Countable) {
<a name="l01014"></a>01014         <span class="keywordflow">return</span> 0 == count($value);
<a name="l01015"></a>01015     }
<a name="l01016"></a>01016 
<a name="l01017"></a>01017     <span class="keywordflow">return</span> <span class="keyword">false</span> === $value || (empty($value) &amp;&amp; <span class="charliteral">&#39;0&#39;</span> != $value);
<a name="l01018"></a>01018 }
<a name="l01019"></a>01019 
<a name="l01034"></a>01034 <span class="keyword">function</span> twig_test_iterable($value)
<a name="l01035"></a>01035 {
<a name="l01036"></a>01036     <span class="keywordflow">return</span> $value instanceof Traversable || is_array($value);
<a name="l01037"></a>01037 }
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Tout</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Structures de données</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Espaces de nommage</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Fichiers</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Fonctions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Énumérations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_core_8php.html">Core.php</a>      </li>

    <li class="footer">Généré le Jeudi Mai 17 2012 16:28:58 pour Nina par
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
